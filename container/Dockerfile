FROM openjdk:8-jdk-alpine
VOLUME /tmp
ARG JAR_FILE
ARG ARG_PREFIX_CLOUDCONFIG_SERVER=cloudconfig-server
ARG ARG_PREFIX_ADMIN_SERVER=admin-server
ARG ARG_PREFIX_TRACING=tracing
ARG ARG_PREFIX_REDIS=redis
ENV PREFIX_CLOUDCONFIG_SERVER=$ARG_PREFIX_CLOUDCONFIG_SERVER
ENV PREFIX_ADMIN_SERVER=$ARG_PREFIX_ADMIN_SERVER
ENV PREFIX_TRACING=$ARG_PREFIX_TRACING
ENV PREFIX_REDIS=$ARG_PREFIX_REDIS
COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java","-Xmx512m","-Xss512k","-jar","/app.jar"]